# Ave SEO!, a Pelican plugin :fr:

[![Build Status](https://travis-ci.com/MaevaBrunelles/ave_seo.svg?branch=dev)](https://travis-ci.com/MaevaBrunelles/ave_seo)

This plugin helps you to improve your Pelican site SEO (Search Engine Optimization) to reach the top positions on search engines. To see what can technically do Ave SEO! for you, go directly to [Usage](#usage) part.

 
| Author          | GitHub                            |
| :-------------: | :-------------------------------: |
| MaÃ«va Brunelles | https://github.com/MaevaBrunelles |

## Why do you need Ave SEO!

If :
* you need some help to improve the SEO of your Pelican site 
* you are not familiar with SEO 
* you want a simple site with all SEO basis

This plugin is for you !

Ave SEO! comes with two complete features to help you :
* [SEO Report](#seo-report) : generation of an HTML report based on articles analysis. Provides you what is good, what is to improve and what is wrong. Usefull if you want to improve the referencement of your articles. 
* [SEO Enhancer](#seo-enhancer) : generation of robots indexation hints, HTML tag and structured data. Usefull if you want to control the appareance of your site in the search engine.

## Requirements

Ave SEO! needs Beautiful Soup 4 :

```
pip install bs4
```

`SITEURL` Pelican parameter must be defined as features are based on it.

## Installation

Follow [Pelican demands](http://docs.getpelican.com/en/3.6.3/plugins.html#how-to-use-plugins) :

```
PLUGINS = ['ave_seo']
```

## Usage

You can enable or disable in the plugin settings the two modules. Default is `True` for both.

```
# settings.py
SEO_REPORT: True # To enable this feature
SEO_ENHANCER: False # To disable this feature
```

Ave SEO! runs when you [generate your site](https://docs.getpelican.com/en/stable/quickstart.html#generate-your-site) :
```
> pelican content
---------- Ave SEO! ----------
--- SEO Report : Done ---
--- SEO Enhancement : Done ---
Done: Processed x articles, x drafts, x pages, x hidden pages and x draft pages in 0.46 seconds.
```

### SEO report

Ave SEO! analyzes all your articles and generate an HTML SEO report in your Pelican root project : `seo-report.html`

Example :

![SEO report example](docs/seo-report-example.png)

You can set up a limit for article analysis in the plugin settings.py. By default, it's set up to 10 articles.

```
ARTICLES_LIMIT = 10
```

The analysis works from the most recents articles to the olders according to the `date` metadata. 
Analysis is focus on :
* Title page `<title></title>`
* Description page `<meta name="description" content="" />`
* Title content `<h1></h1>`
* Internal link `<a href="SITEURL/..."></a>`

Which are declared by article metadata and content :

```markdown
# article.md
Title: Title page
Description: Description page

# Title content
[Internal link](https://example.com/about.html)
```

Theses elements form the basis of page SEO optimizations. Have a look to the report, optimize your articles according to analysis, and restart the process to see if all elements are now in green. 

### SEO Enhancer

Ave SEO! generates for you HTML enhancements, structured data and create the robots file.

#### Robots.txt file

Indicate to search engines what pages they can have access to or not. By default, all pages are authorized to be explored by all the existing robots.

```
User-agent: *
```

To disallow the exploration or to forbid the indexation of a specific ressource, add theses metadata :

```
Disallow: True
Noindex: True
```

A `robots.txt` file is add at the website root, in the `OUTPUT_PATH` setting (Pelican's default is `output/`).

```
# robots.txt
User-agent: *

Disallow: example.html
Noindex: other-example.html
```

#### Canonical URL tag

Ave SEO! automatically add for each article the canonical URL tag in the `<head>` to avoid duplicate content.

```html
<link rel="canonical" href="<SITEURL>/example.html" />
```

This feature requires the `SITEURL` setting.

#### Structured data

Ave SEO! automatically adds for each article structured data in the `<head>` to improve the display of result snippet in search engines.
Structured data are based on [Schema.org](https://schema.org/) vocabulary, with `JSON-LD` encoding. Note that schema generated by default are Schema.org compliant, but not automatically Google compliant. Additionnal metadata are required for it.

##### Breadcrumb schema

Based on [BreadcrumbList schema](https://schema.org/BreadcrumbList) :

```
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": :n=1:,
            "name": :Sitename:,
            "item": :SITEURL:
        },
        {
            "@type": "ListItem",
            "position": :n+1:,
            "name": :name:,
            "item": :url:
        },
        {
            "@type": "ListItem",
            "position": :n+x:,
            "name": :name:,
            "item": :url:
        }
    ]
}
```

Each element of the file path have his `ListItem`, even folder, so it's better to create a user friendly page for those (Pelican's default is the Apache "Index of" directory). 

##### Article schema

Based on [Article schema](https://schema.org/Article) :

```
{
    "@context": "https://schema.org",
    "@type": "Article",
    "author": {
        "@type": "Person",
        "name": :author:
    },
    "publisher": {
        "@type": "Organization",
        "name": :sitename:,
        "logo": {
            "@type": "ImageObject",
            "url": :logo:
        }
    },
    "headline": :title:,
    "about": :category:,
    "datePublished": :publication_date:,
    "image": :image:
}
```

`:logo:` and `:image:` fields are not required by Schema.org but they are by Google to render this schema valid for it. 

To fill `:logo:`, add a parameter in the `pelicanconf.py` :

```
# pelicanconf.py
LOGO = 'https://www.example.com/logo.jpg'
```

To fill `:image:`, add a metadata for each Markdown or reST article :

```
# article.md
Image: https://www.example.com/article-image.jpg

# article.rst
:image: https://www.example.com/article-image.jpg
```

## How to contribute ?

If you encounter some issue or have some ideas to contribute, just open an issue, would be happy to discuss with you.